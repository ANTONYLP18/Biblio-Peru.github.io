<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Biblioteca - BiblioPerú</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="tema-claro fuente-sans-serif">
    <!-- Página Principal -->
    <div id="home-page">
        <!-- Barra de navegación -->
        <nav class="navbar">
            <div class="container">
                <div class="navbar-brand">
                    <i class="fas fa-book"></i>
                    <h1>BiblioPerú</h1>
                </div>
                <div class="navbar-links">
                    <a href="#" class="btn btn-primary" onclick="showPage('login')">Iniciar Sesión</a>
                    <a href="#" class="btn btn-success" onclick="showPage('register')">Registrarse</a>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero">
            <div class="container hero-content">
                <h1>¡Bienvenido al Sistema de Biblioteca BiblioPerú!</h1>
                <p>Gestiona tu biblioteca de manera eficiente con nuestro sistema completo para préstamos, reservas, usuarios y más.</p>
            </div>
        </section>

        <!-- Imagen horizontal de biblioteca -->
        <div class="horizontal-image-container">
            <img src="https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1200&h=400&q=80" 
                 alt="Estantería de biblioteca en vista horizontal"
                 class="horizontal-image"
                 title="Vista horizontal de biblioteca">
        </div>

        <!-- Características principales -->
        <section class="container">
            <div class="features">
                <div class="feature-card fade-in">
                    <i class="fas fa-book-open"></i>
                    <h3>Gestión de Libros</h3>
                    <p>Administra tu catálogo completo con información detallada de cada libro, autores y categorías.</p>
                </div>
                <div class="feature-card fade-in">
                    <i class="fas fa-users"></i>
                    <h3>Gestión de Usuarios</h3>
                    <p>Controla el registro de usuarios con diferentes roles y permisos en el sistema.</p>
                </div>
                <div class="feature-card fade-in">
                    <i class="fas fa-hand-holding-usd"></i>
                    <h3>Préstamos y Multas</h3>
                    <p>Administra préstamos de libros, devoluciones y cálculo automático de multas.</p>
                </div>
                <div class="feature-card fade-in">
                    <i class="fas fa-chart-bar"></i>
                    <h3>Reportes y Estadísticas</h3>
                    <p>Genera reportes detallados y analiza las estadísticas de uso de tu biblioteca.</p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer>
            <div class="container">
                <p>&copy; 2025 BiblioPerú - Sistema de Gestión de Bibliotecas</p>
                <p>Desarrollado por Ingeniería de Sistemas UCV <i class="fas fa-heart heart"></i> Grupo 5 para bibliotecas peruanas</p>
            </div>
        </footer>
    </div>

    <!-- Página de Login -->
    <div id="login-page" style="display: none;">
        <div class="auth-container">
            <div class="auth-card">
                <h2><i class="fas fa-sign-in-alt"></i> Iniciar Sesión</h2>
                <form id="login-form">
                    <div class="form-group">
                        <label for="login-email">Correo Electrónico</label>
                        <input type="email" id="login-email" placeholder="correo@ejemplo.com" required>
                    </div>
                    <div class="form-group">
                        <label for="login-password">Contraseña</label>
                        <input type="password" id="login-password" placeholder="••••••••" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Ingresar</button>
                </form>
                <div class="auth-links">
                    <p>¿No tienes una cuenta? <a href="#" onclick="showPage('register')">Regístrate aquí</a></p>
                    <p><a href="#" onclick="showPage('home')">Volver al inicio</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Página de Registro -->
    <div id="register-page" style="display: none;">
        <div class="auth-container">
            <div class="auth-card">
                <h2><i class="fas fa-user-plus"></i> Crear Cuenta</h2>
                <form id="register-form">
                    <div class="form-group">
                        <label for="register-name">Nombres</label>
                        <input type="text" id="register-name" placeholder="Nombres" required>
                    </div>
                    <div class="form-group">
                        <label for="register-lastname">Apellidos</label>
                        <input type="text" id="register-lastname" placeholder="Apellidos" required>
                    </div>
                    <div class="form-group">
                        <label for="register-email">Correo Electrónico</label>
                        <input type="email" id="register-email" placeholder="correo@ejemplo.com" required>
                    </div>
                    <div class="form-group">
                        <label for="register-password">Contraseña</label>
                        <input type="password" id="register-password" placeholder="••••••••" required>
                    </div>
                    <div class="form-group">
                        <label for="register-confirm">Confirmar Contraseña</label>
                        <input type="password" id="register-confirm" placeholder="••••••••" required>
                    </div>
                    <div class="form-group">
                        <label for="register-phone">Teléfono</label>
                        <input type="tel" id="register-phone" placeholder="+51 987 654 321">
                    </div>
                    <div class="form-group">
                        <label for="register-address">Dirección</label>
                        <input type="text" id="register-address" placeholder="Calle, Distrito, Ciudad">
                    </div>
                    <button type="submit" class="btn btn-success" style="width: 100%;">Registrarse</button>
                </form>
                <div class="auth-links">
                    <p>¿Ya tienes cuenta? <a href="#" onclick="showPage('login')">Inicia sesión aquí</a></p>
                    <p><a href="#" onclick="showPage('home')">Volver al inicio</a></p>
                </div>
            </div>
        </div>
    </div>

    <!-- Dashboard -->
    <div id="dashboard-page" style="display: none;">
        <div class="dashboard-container">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <h2><i class="fas fa-book"></i> BiblioPerú</h2>
                </div>
                <ul class="sidebar-menu">
                    <li><a href="#" class="active" onclick="showTab('tab-dashboard')"><i class="fas fa-tachometer-alt"></i> Panel</a></li>
                    <li><a href="#" onclick="showTab('tab-libros')"><i class="fas fa-book"></i> Libros</a></li>
                    <li class="admin-only"><a href="#" onclick="showTab('tab-usuarios')"><i class="fas fa-users"></i> Usuarios</a></li>
                    <li><a href="#" onclick="showTab('tab-prestamos')"><i class="fas fa-handshake"></i> Préstamos</a></li>
                    <li><a href="#" onclick="showTab('tab-multas')"><i class="fas fa-exclamation-triangle"></i> Multas</a></li>
                    <li><a href="#" onclick="showTab('tab-reservas')"><i class="fas fa-calendar-check"></i> Reservas</a></li>
                    <li><a href="#" onclick="showTab('tab-notificaciones')"><i class="fas fa-bell"></i> Notificaciones</a></li>
                    <li><a href="#" onclick="showTab('tab-mi-perfil')"><i class="fas fa-user"></i> Mi Perfil</a></li>
                    <li class="admin-only"><a href="#" onclick="showTab('tab-reportes')"><i class="fas fa-chart-bar"></i> Reportes</a></li>
                    <li><a href="#" onclick="showTab('tab-configuracion')"><i class="fas fa-cog"></i> Configuración</a></li>
                    <li><a href="#" onclick="cerrarSesion()"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a></li>
                </ul>
            </aside>

            <!-- Contenido principal -->
            <main class="main-content">
                <!-- PANEL DE CONTROL -->
                <section id="tab-dashboard" class="tab-content active">
                    <header class="dashboard-header">
                        <h1>¡Bienvenido al Panel de Control!</h1>
                        <div class="user-info">
                            <div class="user-avatar" id="user-avatar">JL</div>
                            <div>
                                <div id="user-name">Juan López</div>
                                <small id="user-role">Bibliotecario</small>
                            </div>
                        </div>
                    </header>

                    <section class="stats-grid">
                        <div class="stat-card">
                            <h3>Libros Totales</h3>
                            <p id="total-libros">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>Libros Disponibles</h3>
                            <p id="libros-disponibles">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>Préstamos Activos</h3>
                            <p id="prestamos-activos">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>Multas Pendientes</h3>
                            <p id="multas-pendientes">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>Reservas Pendientes</h3>
                            <p id="reservas-pendientes">0</p>
                        </div>
                        <div class="stat-card">
                            <h3>Notificaciones</h3>
                            <p id="total-notificaciones">0</p>
                        </div>
                    </section>

                    <section class="dashboard-section">
                        <h2>Actividad Reciente</h2>
                        <ul class="activity-list" id="actividad-reciente">
                            <!-- Actividad se cargará dinámicamente -->
                        </ul>
                    </section>

                    <section class="dashboard-section admin-only">
                        <h2>Acciones Rápidas <span class="role-badge">Bibliotecario/Admin</span></h2>
                        <div class="quick-actions-grid">
                            <a href="#" class="action-button" onclick="showModal('modal-libro')">
                                <i class="fas fa-plus-circle"></i>
                                <span>Añadir Nuevo Libro</span>
                            </a>
                            <a href="#" class="action-button" onclick="showModal('modal-prestamo')">
                                <i class="fas fa-handshake"></i>
                                <span>Registrar Préstamo</span>
                            </a>
                            <a href="#" class="action-button" onclick="showModal('modal-usuario')">
                                <i class="fas fa-user-plus"></i>
                                <span>Añadir Nuevo Usuario</span>
                            </a>
                        </div>
                    </section>
                </section>

                <!-- TAB LIBROS -->
                <section id="tab-libros" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Todos los Libros</h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-libros" placeholder="Buscar libro..." oninput="buscarLibros(this.value)">
                        <div id="search-libros-suggestions" class="search-suggestions"></div>
                    </div>
                    
                    <div class="table-responsive">
                        <table id="tabla-libros">
                            <thead>
                                <tr>
                                    <th>Título</th>
                                    <th>Autor</th>
                                    <th>Género</th>
                                    <th>Disponible</th>
                                    <th>Documento</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Los libros se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </section>
                
                <!-- TAB USUARIOS -->
                <section id="tab-usuarios" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Usuarios <span class="role-badge">Solo administradores</span></h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-usuarios" placeholder="Buscar usuario..." oninput="buscarUsuarios(this.value)">
                        <div id="search-usuarios-suggestions" class="search-suggestions"></div>
                    </div>
                    
                    <div class="table-responsive">
                        <table id="tabla-usuarios">
                            <thead>
                                <tr>
                                    <th>Nombres</th>
                                    <th>Apellidos</th>
                                    <th>DNI</th>
                                    <th>Email</th>
                                    <th>Teléfono</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Los usuarios se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- TAB PRÉSTAMOS (con botones mejorados) -->
                <section id="tab-prestamos" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Préstamos</h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-prestamos" placeholder="Buscar préstamo..." oninput="buscarPrestamos(this.value)">
                        <div id="search-prestamos-suggestions" class="search-suggestions"></div>
                    </div>
                    
                    <div class="table-responsive">
                        <table id="tabla-prestamos">
                            <thead>
                                <tr>
                                    <th>Libro</th>
                                    <th>Autor</th>
                                    <th>Usuario</th>
                                    <th>Fecha Préstamo</th>
                                    <th>Fecha Devolución</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Los préstamos se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- TAB MULTAS -->
                <section id="tab-multas" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Gestión de Multas</h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="multas-summary">
                        <div class="summary-card pendientes">
                            <h3>Multas Pendientes</h3>
                            <div class="value" id="multas-pendientes-summary">S/. 0.00</div>
                        </div>
                        <div class="summary-card pagadas">
                            <h3>Multas Pagadas</h3>
                            <div class="value" id="multas-pagadas-summary">S/. 0.00</div>
                        </div>
                        <div class="summary-card total">
                            <h3>Total Recaudado</h3>
                            <div class="value" id="multas-total-summary">S/. 0.00</div>
                        </div>
                    </div>
                    
                    <div class="multa-status-filter">
                        <button class="status-filter-btn active" onclick="filtrarMultas('todas')">Todas</button>
                        <button class="status-filter-btn" onclick="filtrarMultas('pendiente')">Pendientes</button>
                        <button class="status-filter-btn" onclick="filtrarMultas('pagado')">Pagadas</button>
                        <button class="status-filter-btn" onclick="filtrarMultas('urgente')">Urgentes</button>
                    </div>
                    
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-multas" placeholder="Buscar por nombre, motivo, monto..." 
                            oninput="buscarMultas(this.value)">
                    </div>
                    
                    <div class="table-responsive">
                        <table id="tabla-multas">
                            <thead>
                                <tr>
                                    <th>Usuario</th>
                                    <th>Monto</th>
                                    <th>Motivo</th>
                                    <th>Fecha</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Las multas se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div style="margin-top: 20px; text-align: right;">
                        <button class="btn btn-primary" onclick="showModal('modal-multa')">
                            <i class="fas fa-plus"></i> Agregar Multa Manual
                        </button>
                    </div>
                </section>

                <!-- TAB RESERVAS (completamente funcional) -->
                <section id="tab-reservas" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Reservas</h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="search-bar">
                        <i class="fas fa-search"></i>
                        <input type="text" id="search-reservas" placeholder="Buscar reserva..." oninput="buscarReservas(this.value)">
                    </div>
                    
                    <div class="table-responsive">
                        <table id="tabla-reservas">
                            <thead>
                                <tr>
                                    <th>Libro</th>
                                    <th>Autor</th>
                                    <th>Usuario</th>
                                    <th>Fecha Reserva</th>
                                    <th>Estado</th>
                                    <th>Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Las reservas se cargarán dinámicamente -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- TAB NOTIFICACIONES MEJORADA -->
                <section id="tab-notificaciones" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Notificaciones</h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="notification-actions">
                        <div class="notification-filters">
                            <div class="notification-search-bar">
                                <i class="fas fa-search"></i>
                                <input type="text" id="search-notifications" placeholder="Buscar notificaciones..." 
                                    oninput="buscarNotificaciones(this.value)" aria-label="Buscar notificaciones">
                            </div>
                            
                            <div class="notification-priority-filter" aria-label="Filtrar por prioridad">
                                <button class="priority-filter-btn priority-high-btn active" 
                                    onclick="togglePriorityFilter('alta')" aria-pressed="true" 
                                    aria-label="Mostrar notificaciones de prioridad alta"></button>
                                <button class="priority-filter-btn priority-medium-btn active" 
                                    onclick="togglePriorityFilter('media')" aria-pressed="true" 
                                    aria-label="Mostrar notificaciones de prioridad media"></button>
                                <button class="priority-filter-btn priority-low-btn active" 
                                    onclick="togglePriorityFilter('baja')" aria-pressed="true" 
                                    aria-label="Mostrar notificaciones de prioridad baja"></button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="notification-categories">
                        <button class="category-btn active" onclick="filtrarNotificaciones('todas')">
                            <i class="fas fa-inbox"></i> Todas
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('informativo')">
                            <i class="fas fa-info-circle"></i> Informativo
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('advertencia')">
                            <i class="fas fa-exclamation-triangle"></i> Advertencia
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('sistema')">
                            <i class="fas fa-cogs"></i> Sistema
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('usuario')">
                            <i class="fas fa-user"></i> Usuario
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('no_leidas')">
                            <i class="fas fa-envelope"></i> No leídas
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('archivadas')">
                            <i class="fas fa-archive"></i> Archivadas
                        </button>
                        <button class="category-btn" onclick="filtrarNotificaciones('destacadas')">
                            <i class="fas fa-star"></i> Destacadas
                        </button>
                    </div>
                    
                    <div class="card">
                        <ul id="lista-notificaciones">
                            <!-- Las notificaciones se cargarán dinámicamente -->
                        </ul>
                        
                        <div id="no-notifications" class="notification-empty" style="display: none;">
                            <i class="fas fa-bell-slash"></i>
                            <h3>No hay notificaciones</h3>
                            <p>No se encontraron notificaciones con los filtros aplicados</p>
                        </div>
                    </div>
                </section>
                
                <!-- MI PERFIL MEJORADO -->
                <section id="tab-mi-perfil" class="tab-content">
                    <div class="card">
                        <div class="profile-header">
                            <h1><i class="fas fa-user-circle"></i> Mi Perfil</h1>
                            <p>Administra tu información personal y preferencias</p>
                        </div>
                        
                        <div class="profile-section">
                            <div class="profile-avatar" id="profile-avatar-container">
                                <div class="avatar-initials" id="profile-avatar-initials">JL</div>
                                <div class="change-avatar-btn" onclick="document.getElementById('profile-image').click()">
                                    <i class="fas fa-camera"></i> Cambiar foto
                                </div>
                            </div>

                            <div class="profile-info" id="profile-info-view">
                                <div class="profile-info-item">
                                    <span class="profile-info-label">Nombre:</span>
                                    <span class="profile-info-value" id="profile-info-name">Juan López</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="profile-info-label">Email:</span>
                                    <span class="profile-info-value" id="profile-info-email">juan@biblioperu.com</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="profile-info-label">Teléfono:</span>
                                    <span class="profile-info-value" id="profile-info-phone">+51 987 654 321</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="profile-info-label">Dirección:</span>
                                    <span class="profile-info-value" id="profile-info-address">Av. Libertad 123, Lima</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="profile-info-label">Rol:</span>
                                    <span class="profile-info-value" id="profile-info-role">Bibliotecario</span>
                                </div>
                                <div class="profile-info-item">
                                    <span class="profile-info-label">Usuario desde:</span>
                                    <span class="profile-info-value" id="profile-info-created">27/6/2025</span>
                                </div>
                                
                                <button class="btn btn-primary profile-edit-btn" onclick="abrirModalEditarPerfil()">
                                    <i class="fas fa-edit"></i> Editar Perfil
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- TAB REPORTES MEJORADA -->
                <section id="tab-reportes" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Reportes <span class="role-badge">Solo administradores</span></h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Generar reportes del sistema</h3>
                        
                        <div class="filtros-container">
                            <div class="filtro-item">
                                <label for="reporte-tipo">Tipo de Reporte</label>
                                <select id="reporte-tipo" class="form-control">
                                    <option value="libros-prestados">Libros más prestados</option>
                                    <option value="usuarios-activos">Usuarios con más préstamos</option>
                                    <option value="historial-multas">Historial de multas</option>
                                    <option value="prestamos-periodo">Préstamos por período</option>
                                    <option value="reservas-pendientes">Reservas pendientes</option>
                                    <option value="inventario">Inventario completo</option>
                                </select>
                            </div>
                            
                            <div class="filtro-item">
                                <label for="reporte-periodo">Período</label>
                                <select id="reporte-periodo" class="form-control">
                                    <option value="mensual">Mensual</option>
                                    <option value="trimestral">Trimestral</option>
                                    <option value="semestral">Semestral</option>
                                    <option value="anual">Anual</option>
                                    <option value="personalizado">Personalizado</option>
                                </select>
                            </div>
                            
                            <div class="filtro-item">
                                <label for="reporte-formato">Formato</label>
                                <select id="reporte-formato" class="form-control">
                                    <option value="html">Vista previa</option>
                                    <option value="pdf">PDF</option>
                                    <option value="excel">Excel</option>
                                </select>
                            </div>
                            
                            <div class="filtro-item">
                                <button class="btn btn-primary" onclick="generarReporte()" style="margin-top: 24px;">
                                    <i class="fas fa-cog"></i> Generar Reporte
                                </button>
                            </div>
                        </div>
                        
                        <div id="filtro-personalizado" class="filtro-avanzado" style="display: none;">
                            <h4>Rango Personalizado</h4>
                            <div class="filtro-row">
                                <div class="form-group">
                                    <label for="fecha-inicio">Fecha Inicio</label>
                                    <input type="date" id="fecha-inicio" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="fecha-fin">Fecha Fin</label>
                                    <input type="date" id="fecha-fin" class="form-control">
                                </div>
                            </div>
                            <button class="btn btn-filtro" onclick="aplicarFiltroPersonalizado()">Aplicar Filtro</button>
                        </div>
                        
                        <!-- Contenedor para reportes generados -->
                        <div id="contenedor-reportes-generados"></div>
                        
                        <div style="margin-top: 30px;">
                            <h3>Reportes disponibles</h3>
                            <div class="reportes-disponibles" id="lista-reportes">
                                <div class="reporte-disponible">
                                    <h4>Reporte mensual de préstamos</h4>
                                    <p>Junio 2023 - Informe detallado de préstamos realizados durante el mes</p>
                                    <a href="#" class="btn-descargar" onclick="descargarReporte('reporte-mensual')">
                                        <i class="fas fa-download"></i> Descargar PDF
                                    </a>
                                </div>
                                <div class="reporte-disponible">
                                    <h4>Libros más populares</h4>
                                    <p>Q2 2023 - Ranking de libros más solicitados en el segundo trimestre</p>
                                    <a href="#" class="btn-descargar" onclick="descargarReporte('libros-populares')">
                                        <i class="fas fa-download"></i> Descargar PDF
                                    </a>
                                </div>
                                <div class="reporte-disponible">
                                    <h4>Usuarios con multas pendientes</h4>
                                    <p>Listado de usuarios con deudas pendientes y montos adeudados</p>
                                    <a href="#" class="btn-descargar" onclick="descargarReporte('usuarios-multas')">
                                        <i class="fas fa-download"></i> Descargar PDF
                                    </a>
                                </div>
                                <div class="reporte-disponible">
                                    <h4>Inventario completo de libros</h4>
                                    <p>Catálogo completo con disponibilidad y ubicación de todos los libros</p>
                                    <a href="#" class="btn-descargar" onclick="descargarReporte('inventario')">
                                        <i class="fas fa-download"></i> Descargar PDF
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <!-- TAB CONFIGURACIÓN -->
                <section id="tab-configuracion" class="tab-content">
                    <div class="dashboard-header">
                        <h2>Configuración del Sistema</h2>
                        <div class="user-info">
                            <div class="user-avatar">JL</div>
                            <div id="user-name">Juan López</div>
                        </div>
                    </div>

                    <div class="config-sections">
                        <!-- Sección Generales -->
                        <div class="config-section">
                            <h3><i class="fas fa-sliders-h"></i> Generales</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="library-name" class="config-label">Nombre de la biblioteca</label>
                                    <input type="text" id="library-name" value="BiblioPerú" class="config-select">
                                </div>
                                <div class="form-group">
                                    <label for="library-logo" class="config-label">Logo institucional</label>
                                    <div class="file-upload">
                                        <label class="file-upload-btn">
                                            <i class="fas fa-cloud-upload-alt"></i> Subir logo
                                            <input type="file" id="library-logo" class="file-upload-input" accept="image/*">
                                        </label>
                                        <div class="file-name" id="logo-name">biblioperu-logo.png</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="date-format" class="config-label">Formato de fecha</label>
                                    <select id="date-format" class="config-select">
                                        <option value="dd/mm/yyyy">dd/mm/yyyy</option>
                                        <option value="mm/dd/yyyy">mm/dd/yyyy</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="language" class="config-label">Idioma por defecto</label>
                                    <select id="language" class="config-select">
                                        <option value="es">Español</option>
                                        <option value="en">English</option>
                                        <option value="pt">Português</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="loan-limit" class="config-label">Límite de préstamos por usuario</label>
                                    <input type="number" id="loan-limit" min="1" max="10" value="5" class="config-select">
                                </div>
                                <div class="form-group">
                                    <label for="session-timeout" class="config-label">Tiempo de sesión activa (minutos)</label>
                                    <input type="number" id="session-timeout" min="5" max="240" value="30" class="config-select">
                                </div>
                            </div>
                            
                            <!-- Botón para aplicar cambios de idioma -->
                            <button id="btn-aplicar-idioma" class="btn-aplicar">
                                <i class="fas fa-language"></i> Aplicar Cambios de Idioma
                            </button>
                            
                            <!-- Vista previa de los cambios -->
                            <div class="config-preview">
                                <h4>Vista Previa de Cambios</h4>
                                <div class="preview-content">
                                    <div class="preview-item">
                                        <h5>Texto de ejemplo</h5>
                                        <p class="preview-text">Este es un texto de ejemplo que muestra cómo se verá el sistema con la configuración seleccionada.</p>
                                        <div class="preview-buttons">
                                            <button class="preview-btn preview-btn-primary">Aceptar</button>
                                            <button class="preview-btn preview-btn-secondary">Cancelar</button>
                                        </div>
                                        <div class="preview-alert preview-alert-success">Éxito: Cambios aplicados correctamente</div>
                                    </div>
                                    <div class="preview-item">
                                        <h5>Otro elemento</h5>
                                        <p class="preview-text">Puedes ver cómo los colores y fuentes cambian según la configuración seleccionada.</p>
                                        <div class="preview-alert preview-alert-warning">Advertencia: Esta acción no se puede deshacer</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sección Apariencia -->
                        <div class="config-section">
                            <h3><i class="fas fa-palette"></i> Apariencia</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="theme" class="config-label">Tema de color</label>
                                    <select id="theme" class="config-select">
                                        <option value="claro">Claro</option>
                                        <option value="oscuro">Oscuro</option>
                                        <option value="alto-contraste">Alto Contraste</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="font" class="config-label">Fuente principal</label>
                                    <select id="font" class="config-select">
                                        <option value="sans-serif">Sans Serif</option>
                                        <option value="serif">Serif</option>
                                        <option value="monospace">Monospace</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="config-label">Mostrar/Ocultar bloques del dashboard:</label>
                                <div class="checkbox-group">
                                    <label><input type="checkbox" id="show-fines" checked> Estadísticas de multas</label>
                                    <label><input type="checkbox" id="show-reports" checked> Reportes</label>
                                    <label><input type="checkbox" id="show-activity" checked> Actividad reciente</label>
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="custom-logo" class="config-label">Subir logo personalizado</label>
                                <div class="file-upload">
                                    <label class="file-upload-btn">
                                        <i class="fas fa-cloud-upload-alt"></i> Seleccionar imagen
                                        <input type="file" id="custom-logo" class="file-upload-input" accept="image/*">
                                    </label>
                                    <div class="file-name" id="custom-logo-name">No se ha seleccionado ningún archivo</div>
                                </div>
                            </div>
                            
                            <!-- Botón para aplicar cambios de apariencia -->
                            <button id="btn-aplicar-apariencia" class="btn-aplicar">
                                <i class="fas fa-paint-brush"></i> Aplicar Cambios de Apariencia
                            </button>
                        </div>
                        
                        <!-- Sección Seguridad -->
                        <div class="config-section">
                            <h3><i class="fas fa-shield-alt"></i> Seguridad</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="min-password">Longitud mínima de contraseña</label>
                                    <input type="number" id="min-password" min="6" max="20" value="8">
                                </div>
                                <div class="form-group">
                                    <label>Requisitos de contraseña:</label>
                                    <div class="checkbox-group">
                                        <label><input type="checkbox" id="require-uppercase" checked> Mayúsculas</label>
                                        <label><input type="checkbox" id="require-numbers" checked> Números</label>
                                        <label><input type="checkbox" id="require-symbols" checked> Símbolos</label>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="password-change">Cambiar contraseña cada (días)</label>
                                    <input type="number" id="password-change" min="30" max="365" value="90">
                                </div>
                                <div class="form-group">
                                    <label for="login-attempts">Intentos fallidos antes de bloqueo</label>
                                    <input type="number" id="login-attempts" min="3" max="10" value="5">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="lock-time">Tiempo de bloqueo (minutos)</label>
                                    <input type="number" id="lock-time" min="1" max="60" value="15">
                                </div>
                                <div class="form-group">
                                    <label for="inactivity-timeout">Forzar cierre de sesión por inactividad (min)</label>
                                    <input type="number" id="inactivity-timeout" min="5" max="120" value="30">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Sección Backups -->
                        <div class="config-section">
                            <h3><i class="fas fa-database"></i> Backups</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="auto-backup">Activar backup automático</label>
                                    <select id="auto-backup">
                                        <option value="si">Sí</option>
                                        <option value="no">No</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="backup-frequency">Frecuencia</label>
                                    <select id="backup-frequency">
                                        <option value="diario">Diario</option>
                                        <option value="semanal">Semanal</option>
                                        <option value="mensual">Mensual</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="backup-time">Hora de ejecución</label>
                                    <input type="time" id="backup-time" value="02:00">
                                </div>
                                <div class="form-group">
                                    <label for="backup-location">Ubicación</label>
                                    <select id="backup-location">
                                        <option value="local">Carpeta local</option>
                                        <option value="drive">Google Drive</option>
                                        <option value="dropbox">Dropbox</option>
                                        <option value="onedrive">OneDrive</option>
                                    </select>
                                </div>
                            </div>
                            
                            <button class="btn btn-primary" onclick="createBackup()">
                                <i class="fas fa-save"></i> Realizar Backup Manual
                            </button>
                            
                            <div class="backup-history">
                                <h4>Historial de Backups</h4>
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Fecha</th>
                                            <th>Tamaño</th>
                                            <th>Estado</th>
                                            <th>Acciones</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>28/06/2025 02:00</td>
                                            <td>2.4 MB</td>
                                            <td><span class="badge badge-success">Completado</span></td>
                                            <td><button class="btn btn-sm btn-success" onclick="restoreBackup(1)">Restaurar</button></td>
                                        </tr>
                                        <tr>
                                            <td>27/06/2025 02:00</td>
                                            <td>2.3 MB</td>
                                            <td><span class="badge badge-success">Completado</span></td>
                                            <td><button class="btn btn-sm btn-success" onclick="restoreBackup(2)">Restaurar</button></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Sección Plazos -->
                        <div class="config-section">
                            <h3><i class="fas fa-calendar-alt"></i> Plazos</h3>
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="default-loan-days">Días de duración por defecto</label>
                                    <input type="number" id="default-loan-days" min="7" max="30" value="14">
                                </div>
                                <div class="form-group">
                                    <label for="low-demand-days">Días adicionales (Baja demanda)</label>
                                    <input type="number" id="low-demand-days" min="0" max="14" value="7">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="high-demand-days">Días reducidos (Alta demanda)</label>
                                    <input type="number" id="high-demand-days" min="1" max="7" value="3">
                                </div>
                                <div class="form-group">
                                    <label for="max-renewals">Número máximo de renovaciones</label>
                                    <input type="number" id="max-renewals" min="0" max="5" value="2">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <h4>Reglas personalizadas por rol</h4>
                                <table class="role-rules">
                                    <thead>
                                        <tr>
                                            <th>Rol</th>
                                            <th>Días adicionales</th>
                                            <th>Renovaciones adicionales</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Docentes</td>
                                            <td><input type="number" min="0" max="14" value="7"></td>
                                            <td><input type="number" min="0" max="3" value="1"></td>
                                        </tr>
                                        <tr>
                                            <td>Administradores</td>
                                            <td><input type="number" min="0" max="14" value="7"></td>
                                            <td><input type="number" min="0" max="3" value="1"></td>
                                        </tr>
                                        <tr>
                                            <td>Investigadores</td>
                                            <td><input type="number" min="0" max="14" value="14"></td>
                                            <td><input type="number" min="0" max="3" value="2"></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        
                        <!-- Sección Política de Privacidad -->
                        <div class="config-section privacy-policy">
                            <h3><i class="fas fa-user-shield"></i> Política de Privacidad - BiblioPerú</h3>
                            <p class="policy-date">Última actualización: 28 de junio de 2025</p>
                            
                            <div class="policy-section">
                                <h4>1. Introducción</h4>
                                <p>BiblioPerú es un sistema de gestión de bibliotecas diseñado para facilitar la administración de libros, préstamos, usuarios y estadísticas. Esta política describe cómo recopilamos, usamos y protegemos la información personal de nuestros usuarios.</p>
                            </div>
                            
                            <div class="policy-section">
                                <h4>2. Información que recopilamos</h4>
                                <p>Durante el uso del sistema, podemos recolectar los siguientes datos personales:</p>
                                <ul>
                                    <li>Nombre completo</li>
                                    <li>Dirección de correo electrónico</li>
                                    <li>Número de teléfono</li>
                                    <li>Dirección domiciliaria</li>
                                    <li>DNI</li>
                                    <li>Historial de préstamos, reservas y multas</li>
                                    <li>Imagen de perfil (si es proporcionada)</li>
                                </ul>
                            </div>
                            
                            <div class="policy-section">
                                <h4>3. Uso de la información</h4>
                                <p>La información recopilada será utilizada exclusivamente para los siguientes fines:</p>
                                <ul>
                                    <li>Gestión de cuentas de usuarios (registro, autenticación y contacto)</li>
                                    <li>Registro y control de préstamos, reservas y sanciones</li>
                                    <li>Generación de estadísticas internas</li>
                                    <li>Envío de notificaciones relacionadas con la biblioteca</li>
                                </ul>
                            </div>
                            
                            <div class="policy-section">
                                <h4>4. Conservación de los datos</h4>
                                <p>Los datos personales serán almacenados mientras el usuario mantenga una cuenta activa en el sistema. En caso de eliminación de cuenta, se eliminarán también los datos asociados en un plazo máximo de 30 días.</p>
                            </div>
                            
                            <div class="policy-section">
                                <h4>5. Protección de la información</h4>
                                <p>Implementamos medidas técnicas y organizativas para proteger los datos contra accesos no autorizados, alteración o destrucción, incluyendo:</p>
                                <ul>
                                    <li>Acceso restringido según roles (admin, bibliotecario, usuario)</li>
                                    <li>Encriptación local en IndexedDB</li>
                                    <li>Validación de formularios y protección contra inyecciones</li>
                                </ul>
                            </div>
                            
                            <div class="policy-section">
                                <h4>6. Compartición de datos</h4>
                                <p>No compartimos ni vendemos datos personales a terceros. Los datos son utilizados exclusivamente por el personal autorizado de la biblioteca.</p>
                            </div>
                            
                            <div class="policy-section">
                                <h4>7. Derechos del usuario</h4>
                                <p>Los usuarios tienen derecho a:</p>
                                <ul>
                                    <li>Acceder a sus datos personales</li>
                                    <li>Solicitar la rectificación o eliminación</li>
                                    <li>Revocar el consentimiento para el uso de sus datos</li>
                                </ul>
                                <p>Para ejercer estos derechos, los usuarios pueden comunicarse con el administrador del sistema.</p>
                            </div>
                            
                            <div class="policy-section">
                                <h4>8. Cambios en la política</h4>
                                <p>Nos reservamos el derecho de actualizar esta política en cualquier momento. Los cambios serán comunicados a través del sistema o por correo electrónico.</p>
                            </div>
                            
                            <div class="policy-section">
                                <h4>9. Contacto</h4>
                                <p>Para consultas sobre esta política, puedes escribirnos a: <a href="mailto:eliotrujillomaza@gmail.com">eliotrujillomaza@gmail.com</a></p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="save-config-btn">
                        <button class="btn btn-success" onclick="saveConfiguration()">
                            <i class="fas fa-save"></i> Guardar Configuración
                        </button>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- Modal para agregar/editar libro -->
    <div id="modal-libro" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-book"></i> <span id="modal-libro-title">Agregar Nuevo Libro</span></h3>
                <span class="close-modal" onclick="cerrarModal('modal-libro')">&times;</span>
            </div>
            <form id="form-libro">
                <input type="hidden" id="libro-id">
                <div class="form-row">
                    <div class="form-group">
                        <label for="libro-titulo">Título</label>
                        <input type="text" id="libro-titulo" required>
                    </div>
                    <div class="form-group">
                        <label for="libro-autor">Autor</label>
                        <input type="text" id="libro-autor" placeholder="Ingrese el autor" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="libro-genero">Género</label>
                        <input type="text" id="libro-genero" required>
                    </div>
                    <div class="form-group">
                        <label for="libro-isbn">ISBN</label>
                        <input type="text" id="libro-isbn">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="libro-edicion">Edición</label>
                        <input type="text" id="libro-edicion">
                    </div>
                    <div class="form-group">
                        <label for="libro-ejemplares">Ejemplares</label>
                        <input type="number" id="libro-ejemplares" value="1" min="1" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="libro-descripcion">Descripción</label>
                    <textarea id="libro-descripcion" rows="3"></textarea>
                </div>
                
                <!-- Sección para subir archivos/documentos -->
                <div class="form-group">
                    <label>Subir Documento</label>
                    <div class="file-upload">
                        <label class="file-upload-btn">
                            <i class="fas fa-cloud-upload-alt"></i> Seleccionar archivo
                            <input type="file" id="libro-archivo" class="file-upload-input" accept=".pdf,.epub,.doc,.docx,.txt">
                        </label>
                        <div class="file-name" id="nombre-archivo">No se ha seleccionado ningún archivo</div>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-success">Guardar Libro</button>
            </form>
        </div>
    </div>

    <!-- Modal para agregar/editar multa -->
    <div id="modal-multa" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-money-bill-wave"></i> <span id="modal-multa-title">Agregar Multa</span></h3>
                <span class="close-modal" onclick="cerrarModal('modal-multa')">&times;</span>
            </div>
            <form id="form-multa">
                <input type="hidden" id="multa-id">
                <div class="form-row">
                    <div class="form-group autocomplete-container">
                        <label for="multa-usuario-input">Usuario</label>
                        <input type="text" id="multa-usuario-input" class="autocomplete-input" placeholder="Buscar usuario..." autocomplete="off">
                        <input type="hidden" id="multa-usuario-id">
                        <div id="multa-usuario-suggestions" class="autocomplete-suggestions"></div>
                    </div>
                    <div class="form-group">
                        <label for="multa-monto">Monto (S/.)</label>
                        <input type="number" id="multa-monto" min="0" step="0.01" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="multa-motivo">Motivo</label>
                    <input type="text" id="multa-motivo" required>
                </div>
                <div class="form-group">
                    <label for="multa-fecha">Fecha</label>
                    <input type="date" id="multa-fecha" required>
                </div>
                <div class="form-group">
                    <label for="multa-estado">Estado</label>
                    <select id="multa-estado" required>
                        <option value="pendiente">Pendiente</option>
                        <option value="pagado">Pagado</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success">Guardar Multa</button>
            </form>
        </div>
    </div>

    <!-- Modal para agregar/editar usuario -->
    <div id="modal-usuario" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-plus"></i> <span id="modal-usuario-title">Agregar Nuevo Usuario</span></h3>
                <span class="close-modal" onclick="cerrarModal('modal-usuario')">&times;</span>
            </div>
            <form id="form-usuario">
                <input type="hidden" id="usuario-id">
                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-nombre">Nombres</label>
                        <input type="text" id="usuario-nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="usuario-apellido">Apellidos</label>
                        <input type="text" id="usuario-apellido" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-dni">DNI</label>
                        <input type="text" id="usuario-dni" required>
                    </div>
                    <div class="form-group">
                        <label for="usuario-email">Email</label>
                        <input type="email" id="usuario-email" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-telefono">Teléfono</label>
                        <input type="tel" id="usuario-telefono">
                    </div>
                    <div class="form-group">
                        <label for="usuario-direccion">Dirección</label>
                        <input type="text" id="usuario-direccion">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-password">Contraseña</label>
                        <input type="password" id="usuario-password">
                    </div>
                    <div class="form-group">
                        <label for="usuario-rol">Rol</label>
                        <select id="usuario-rol" required>
                            <option value="usuario">Usuario</option>
                            <option value="bibliotecario">Bibliotecario</option>
                            <option value="admin">Administrador</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="usuario-expiracion">Fecha de Expiración</label>
                        <input type="date" id="usuario-expiracion">
                    </div>
                </div>
                <button type="submit" class="btn btn-success">Guardar Usuario</button>
            </form>
        </div>
    </div>

    <!-- Modal para préstamos -->
    <div id="modal-prestamo" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-handshake"></i> Registrar Préstamo</h3>
                <span class="close-modal" onclick="cerrarModal('modal-prestamo')">&times;</span>
            </div>
            <form id="form-prestamo">
                <div class="form-row">
                    <div class="form-group autocomplete-container">
                        <label for="prestamo-libro-input">Libro</label>
                        <input type="text" id="prestamo-libro-input" class="autocomplete-input" placeholder="Buscar libro..." autocomplete="off">
                        <input type="hidden" id="prestamo-libro-id">
                        <div id="libro-suggestions" class="autocomplete-suggestions"></div>
                    </div>
                    <div class="form-group autocomplete-container">
                        <label for="prestamo-usuario-input">Usuario</label>
                        <input type="text" id="prestamo-usuario-input" class="autocomplete-input" placeholder="Buscar usuario..." autocomplete="off">
                        <input type="hidden" id="prestamo-usuario-id">
                        <div id="usuario-suggestions" class="autocomplete-suggestions"></div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="prestamo-fecha">Fecha de Préstamo</label>
                        <input type="date" id="prestamo-fecha" required>
                    </div>
                    <div class="form-group">
                        <label for="prestamo-devolucion">Fecha de Devolución</label>
                        <input type="date" id="prestamo-devolucion" required>
                    </div>
                </div>
                <button type="submit" class="btn btn-success">Registrar Préstamo</button>
            </form>
        </div>
    </div>

    <!-- Modal de confirmación para eliminar -->
    <div id="modal-confirmacion" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-exclamation-triangle"></i> Confirmar Eliminación</h3>
                <span class="close-modal" onclick="cerrarModal('modal-confirmacion')">&times;</span>
            </div>
            <div class="confirmation-modal">
                <p id="confirmacion-mensaje">¿Estás seguro de que deseas eliminar este elemento?</p>
                <div class="confirmation-buttons">
                    <button class="btn btn-danger" onclick="confirmarEliminacion()">Eliminar</button>
                    <button class="btn btn-secondary" onclick="cerrarModal('modal-confirmacion')">Cancelar</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para editar reservas -->
    <div id="modal-reserva" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-calendar-check"></i> Editar Reserva</h3>
                <span class="close-modal" onclick="cerrarModal('modal-reserva')">&times;</span>
            </div>
            <form id="form-reserva">
                <input type="hidden" id="reserva-id">
                <div class="form-row">
                    <div class="form-group autocomplete-container">
                        <label for="reserva-libro-input">Libro</label>
                        <input type="text" id="reserva-libro-input" class="autocomplete-input" placeholder="Buscar libro..." autocomplete="off">
                        <input type="hidden" id="reserva-libro-id">
                        <div id="reserva-libro-suggestions" class="autocomplete-suggestions"></div>
                    </div>
                    <div class="form-group autocomplete-container">
                        <label for="reserva-usuario-input">Usuario</label>
                        <input type="text" id="reserva-usuario-input" class="autocomplete-input" placeholder="Buscar usuario..." autocomplete="off">
                        <input type="hidden" id="reserva-usuario-id">
                        <div id="reserva-usuario-suggestions" class="autocomplete-suggestions"></div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="reserva-fecha">Fecha de Reserva</label>
                        <input type="date" id="reserva-fecha" required>
                    </div>
                    <div class="form-group">
                        <label for="reserva-estado">Estado</label>
                        <select id="reserva-estado" required>
                            <option value="pendiente">Pendiente</option>
                            <option value="completada">Completada</option>
                            <option value="cancelada">Cancelada</option>
                        </select>
                    </div>
                </div>
                <button type="submit" class="btn btn-success">Guardar Cambios</button>
            </form>
        </div>
    </div>

    <!-- Modal para editar perfil -->
    <div id="modal-perfil" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-user-edit"></i> Editar Perfil</h3>
                <span class="close-modal" onclick="cerrarModalPerfil()">&times;</span>
            </div>
            
            <div class="message message-success" id="success-message">
                <i class="fas fa-check-circle"></i> Perfil actualizado exitosamente
            </div>
            
            <div class="message message-error" id="error-message">
                <i class="fas fa-exclamation-circle"></i> <span id="error-text">Por favor completa todos los campos correctamente</span>
            </div>
            
            <form id="form-editar-perfil">
                <div class="form-group">
                    <label for="edit-nombre">Nombre Completo *</label>
                    <input type="text" id="edit-nombre" required>
                    <div class="error-message" id="nombre-error">El nombre debe tener al menos 3 caracteres</div>
                </div>
                
                <div class="form-group">
                    <label for="edit-email">Correo Electrónico *</label>
                    <input type="email" id="edit-email" required>
                    <div class="error-message" id="email-error">Ingresa un correo electrónico válido</div>
                </div>
                
                <div class="form-group">
                    <label for="edit-telefono">Teléfono</label>
                    <input type="tel" id="edit-telefono" placeholder="+51 987 654 321">
                    <div class="error-message" id="telefono-error">Formato de teléfono inválido</div>
                </div>
                
                <div class="form-group">
                    <label for="edit-direccion">Dirección</label>
                    <input type="text" id="edit-direccion" placeholder="Calle, Distrito, Ciudad">
                </div>
                
                <div class="form-group">
                    <label>Imagen de Perfil</label>
                    <div class="file-upload">
                        <label class="file-upload-btn">
                            <i class="fas fa-cloud-upload-alt"></i> Seleccionar imagen
                            <input type="file" id="profile-image" class="file-upload-input" accept="image/*">
                        </label>
                        <div class="file-name" id="profile-image-name">No se ha seleccionado ninguna imagen</div>
                    </div>
                    <img src="" id="profile-image-preview" class="profile-image-preview" alt="Vista previa de la imagen">
                </div>
                
                <div class="action-buttons">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModalPerfil()">
                        <i class="fas fa-times"></i> Cancelar
                    </button>
                    <button type="submit" class="btn btn-success">
                        <i class="fas fa-save"></i> Guardar Cambios
                    </button>
                </div>
            </form>
        </div>
    </div>

    <div class="config-change-notice" id="config-change-notice">
        <i class="fas fa-check-circle"></i> <span id="config-notice-text">Configuración aplicada</span>
    </div>

    <script src="script.js"></script>
</body>
</html>